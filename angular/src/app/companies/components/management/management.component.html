<div class="container ms-2" [abpLoading]="loading">
  <div class="row mb-2">
    <div class="col-md-3">
      <div class="row mb-2">
        <div class="col-md-12">
          <p-dropdown
            [options]="marketLangAnnouncement"
            [(ngModel)]="stockMarketID"
            name="stockMarketID"
            placeholder="Select a Market"
            optionLabel="abbr"
            optionValue="stockMarketID"
            (ngModelChange)="getCompMarketSectorsByMarketID()"
            [style]="{ width: '100%' }"
            [showClear]="true"
          >
          </p-dropdown>
        </div>
        <div class="col-md-12 mt-2">
          <p-dropdown
            [options]="companyMarketSectors"
            [(ngModel)]="sectorID"
            name="sectorID"
            placeholder="Select a Sector"
            optionLabel="sector"
            optionValue="sectorID"
            (ngModelChange)="getCompaniesTickersBySectorIDAndMarketID()"
            [style]="{ width: '100%' }"
            [showClear]="true"
          >
          </p-dropdown>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <h6 class="p-1 mb-1">Companies</h6>
          <p-listbox
            [options]="companiesTickers"
            [(ngModel)]="companyID"
            name="companyID"
            optionLabel="ticker"
            (click)="getCompanyManagements()"
            optionValue="companyID"
            [style]="{ width: '100%' }"
            [listStyle]="{ 'max-height': '30rem' }"
          />
        </div>
      </div>
    </div>
    <div class="col-md-9">
      <div class="card">
        <div class="card-body p-2">
          <div class="row">
            <div class="col-md-8">
              <p-autoComplete
              [(ngModel)]="selectedItem"
              [ngModelOptions]="{ standalone: true }"
              (onSelect)="onSelect($event)"
              [suggestions]="suggestions"
              (completeMethod)="search($event)"
              [style]="{ width: '100%' }"
              field="company"
              [inputStyle]="{ width: '100%' }"
            >
            </p-autoComplete>
            </div>
            <div class="col-md-4">
              <a href="#" class="btn btn-primary btn-sm me-1" (click)="addNewManagement()"><i class="fa fa-plus"></i> Add New</a>
              <a href="#" *ngIf="permission.create"  class="btn btn-success btn-sm me-1" [attr.disabled]="!managementForm.valid ? true : null" (click)="saveManagement()"><i class="fa fa-save"></i> Save</a>
              <!-- <a href="#" class="btn btn-primary btn-sm me-1"><i class="fa fa-edit"></i> Update</a> -->
            </div>
          </div>
          <div class="row mt-2">
            <p-tabView #tabView (onChange)="tabViewChange($event, tabView)">
              <p-tabPanel header="Key Peoples">
                <form #managementForm="ngForm">
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label col-4">President</label>
                      <input
                        autofocus
                        [(ngModel)]="management.president"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        pInputText
                        required
                        class="form-control"
                        name="president"
                        placeholder="President"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aPresident"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        pInputText
                        required="true"
                        class="form-control mt-2"
                        name="aPresident"
                        placeholder="President (AR)"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Vice President</label>
                      <input
                        autofocus
                        [(ngModel)]="management.vicePresident"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control"
                        name="vicePresident"
                        placeholder="Vice President"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aVicePresident"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control mt-2"
                        name="aVicePresident"
                        placeholder="Vice President (AR)"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Honoury President</label>
                      <input
                        autofocus
                        [(ngModel)]="management.honoraryPresident"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control"
                        name="honoraryPresident"
                        placeholder="Honoury President"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aHonoraryPresident"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control mt-2"
                        name="aHonoraryPresident"
                        placeholder="Honoury President (AR)"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Chairman</label>
                      <input
                        autofocus
                        [(ngModel)]="management.chairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control"
                        name="chairman"
                        placeholder="Chairman"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aChairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control mt-2"
                        name="aChairman"
                        placeholder="Chairman (AR)"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Vice Chairman</label>
                      <input
                        autofocus
                        [(ngModel)]="management.viceChairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control"
                        name="viceChairman"
                        placeholder="Vice Chairman"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aViceChairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        required
                        class="form-control mt-2"
                        name="aViceChairman"
                        placeholder="Vice Chairman (AR)"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Honoury Chairman</label>
                      <input
                        autofocus
                        [(ngModel)]="management.honoraryChairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="honoraryChairman"
                        placeholder="Honoury Chairman"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aHonoraryChairman"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control mt-2"
                        name="aHonoraryChairman"
                        placeholder="Honoury Chairmant (AR)"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label col-4">CEO</label>
                      <input
                        autofocus
                        [(ngModel)]="management.ceo"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="ceo"
                        placeholder="CEO"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aceo"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control mt-2"
                        name="aceo"
                        placeholder="CEO (AR)"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Managing Director</label>
                      <input
                        autofocus
                        [(ngModel)]="management.managingDirector"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="managingDirector"
                        placeholder="Managing Director"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aManagingDirector"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control mt-2"
                        name="aManagingDirector"
                        placeholder="Managing Director (AR)"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label col-4">Depty MD</label>
                      <input
                        autofocus
                        [(ngModel)]="management.deputyManagingDirector"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="deputyManagingDirector"
                        placeholder="Depty MD"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aDeputyManagingDirector"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control mt-2"
                        name="aDeputyManagingDirector"
                        placeholder="Depty MD (AR)"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label col-4">General Manager</label>
                      <input
                        autofocus
                        [(ngModel)]="management.generalManager"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="generalManager"
                        placeholder="General Manager"
                      />
                      <input
                        autofocus
                        [(ngModel)]="management.aGeneralManager"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control mt-2"
                        name="aGeneralManager"
                        placeholder="General Manager (AR)"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label">Date</label>
                      <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" dataType="string" [showIcon]="true" [(ngModel)]="management.since" name="since" placeholder="Select a Date" />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Till</label>
                      <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="management.till" name="till" placeholder="Select a Till Date" />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Activation</label>
                      <p-dropdown
                      [(ngModel)]="managementActivation"
                      [ngModelOptions]="{ standalone: true }"
                      [options]="activationDropdown"
                      placeholder="Select a Company Activation"
                      optionLabel="displayText"
                      optionValue="value"
                      [style]="{ width: '100%' }"
                      [showClear]="true"
                      >
                      </p-dropdown>
                    </div>
                  </div>
                  <div class="row mt-2">
                    <div class="col-md-12">
                      <p-table
                        #dt
                        [value]="managements"
                        [tableStyle]="{ 'max-height': '20rem' }"
                        responsiveLayout="stack"
                        styleClass="p-datatable-gridlines"
                      >
                        <ng-template pTemplate="caption">
                          <div class="d-flex flex-column flex-md-row justify-content-between">
                            <div class="mr-auto p-2">
                              <span>
                                <h5>Key Peoples</h5>
                              </span>
                            </div>
                          </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                          <tr>
                            <th>Chair Man</th>
                            <th>Managing Director</th>
                            <th>Since</th>
                            <th>Till</th>
                            <th>Active</th>
                            <th>Gulf Update</th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-i="rowIndex">
                          <tr (click)="handleManagement(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                            <td>{{ item.chairman }}</td>
                            <td>{{ item.managingDirector }}</td>
                            <td>{{ item.since | date: 'dd/MM/yyyy' }}</td>
                            <td>{{ item.till | date: 'dd/MM/yyyy' }}</td>
                            <td>{{ item.isActive }}</td>
                            <td>{{ item.gulfbaseUpdateDate | date: 'dd/MM/yyyy' }}</td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                  </div>
                </form>
              </p-tabPanel>
              <p-tabPanel header="Senior Management">
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Title</label>
                    <input
                      autofocus
                      [(ngModel)]="seniorManagement.title"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="title"
                      placeholder="Title"
                    />
                    <input
                      autofocus
                      [(ngModel)]="seniorManagement.aTitle"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aTitle"
                      placeholder="Title (AR)"
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Senior Management</label>
                    <input
                      autofocus
                      [(ngModel)]="seniorManagement.seniorManagement"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="seniorManagement"
                      placeholder="Senior Management"
                    />
                    <input
                      autofocus
                      [(ngModel)]="seniorManagement.aSeniorManagement"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aSeniorManagement"
                      placeholder="Senior Management (AR)"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label">Date</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="seniorManagement.since" name="since"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Till</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true"[(ngModel)]="seniorManagement.till" name="till"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Activation</label>
                    <p-dropdown
                    [(ngModel)]="seniorManagementActivation"
                    [ngModelOptions]="{ standalone: true }"
                    [options]="activationDropdown"
                    placeholder="Select a Company Activation"
                    optionLabel="displayText"
                    optionValue="value"
                    [style]="{ width: '100%' }"
                    [showClear]="true"
                    >
                    </p-dropdown>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-12">
                    <p-table
                      #dt
                      [value]="seniorManagements"
                      [tableStyle]="{ 'max-height': '20rem' }"
                      responsiveLayout="stack"
                      styleClass="p-datatable-gridlines"
                    >
                      <ng-template pTemplate="caption">
                        <div class="d-flex flex-column flex-md-row justify-content-between">
                          <div class="mr-auto p-2">
                            <span>
                              <h5>Senior Management</h5>
                            </span>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr >
                          <th>Title</th>
                          <th>Senior Management</th>
                          <th>Since</th>
                          <th>Till</th>
                          <th>IsActive</th>
                          <th>Gulf Base Update</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item let-i="rowIndex">
                        <tr (click)="handleseniorManagement(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                          <td>{{item.title}}</td>
                          <td>{{item.seniorManagement}}</td>
                          <td>{{item.since | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.till | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.isActive}}</td>
                          <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </p-tabPanel>
              <p-tabPanel header="Auditors">
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Title</label>
                    <input
                      autofocus
                      [(ngModel)]="auditor.title"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="title"
                      placeholder="Title"
                    />
                    <input
                      autofocus
                      [(ngModel)]="auditor.aTitle"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aTitle"
                      placeholder="Title (AR)"
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Auditor</label>
                    <input
                      autofocus
                      [(ngModel)]="auditor.auditor"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="auditor"
                      placeholder="Auditor"
                    />
                    <input
                      autofocus
                      [(ngModel)]="auditor.aAuditor"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aAuditor"
                      placeholder="Auditor (AR)"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label">Date</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="auditor.since" name="since"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Till</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true"[(ngModel)]="auditor.till" name="till"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Activation</label>
                    <p-dropdown
                    [(ngModel)]="auditorActivation"
                    [ngModelOptions]="{ standalone: true }"
                    [options]="activationDropdown"
                    placeholder="Select a Company Activation"
                    optionLabel="displayText"
                    optionValue="value"
                    [style]="{ width: '100%' }"
                    [showClear]="true"
                    >
                    </p-dropdown>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-12">
                    <p-table
                      #dt
                      [value]="auditors"
                      [tableStyle]="{ 'max-height': '20rem' }"
                      responsiveLayout="stack"
                      styleClass="p-datatable-gridlines"
                    >
                      <ng-template pTemplate="caption">
                        <div class="d-flex flex-column flex-md-row justify-content-between">
                          <div class="mr-auto p-2">
                            <span>
                              <h5>Auditors</h5>
                            </span>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr >
                          <th>Title</th>
                          <th>Auditor</th>
                          <th>Since</th>
                          <th>Till</th>
                          <th>IsActive</th>
                          <th>Gulf Base Update</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item let-i="rowIndex">
                        <tr (click)="handleauditor(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                          <td>{{item.title}}</td>
                          <td>{{item.auditor}}</td>
                          <td>{{item.since | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.till | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.isActive}}</td>
                          <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </p-tabPanel>
              <p-tabPanel header="Board Members">
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Title</label>
                    <input
                      autofocus
                      [(ngModel)]="boardMember.title"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="title"
                      placeholder="Title"
                    />
                    <input
                      autofocus
                      [(ngModel)]="boardMember.aTitle"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aTitle"
                      placeholder="Title (AR)"
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label col-4">Board Member</label>
                    <input
                      autofocus
                      [(ngModel)]="boardMember.boardMember"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="boardMember"
                      placeholder="Board Member"
                    />
                    <input
                      autofocus
                      [(ngModel)]="boardMember.aBoardMember"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control mt-2"
                      name="aBoardMember"
                      placeholder="Board Member (AR)"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label">Date</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="boardMember.since" name="since"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Till</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="boardMember.till" name="till"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Launch Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Activation</label>
                    <p-dropdown
                    [(ngModel)]="boardMemberActivation"
                    [ngModelOptions]="{ standalone: true }"
                    [options]="activationDropdown"
                    placeholder="Select a Company Activation"
                    optionLabel="displayText"
                    optionValue="value"
                    [style]="{ width: '100%' }"
                    [showClear]="true"
                    >
                    </p-dropdown>
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Custom Order</label>
                    <input
                      autofocus
                      [(ngModel)]="boardMember.customOrder"
                      [ngModelOptions]="{ standalone: true }"
                      type="text"
                      class="form-control"
                      name="customOrder"
                      placeholder="Custom Order"
                    />
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-12">
                    <p-table
                      #dt
                      [value]="boardMembers"
                      [tableStyle]="{ 'max-height': '20rem' }"
                      responsiveLayout="stack"
                      styleClass="p-datatable-gridlines"
                    >
                      <ng-template pTemplate="caption">
                        <div class="d-flex flex-column flex-md-row justify-content-between">
                          <div class="mr-auto p-2">
                            <span>
                              <h5>Board Members</h5>
                            </span>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr>
                          <th>Title</th>
                          <th>Board Member</th>
                          <th>Since</th>
                          <th>Till</th>
                          <th>IsActive</th>
                          <th>Gulf Base Update</th>
                          <th>Custom Order</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item let-i="rowIndex">
                        <tr (click)="handleboardMember(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                          <td>{{item.title}}</td>
                          <td>{{item.boardMember}}</td>
                          <td>{{item.since | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.till | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.isActive}}</td>
                          <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.customOrder}}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </p-tabPanel>
              <p-tabPanel header="Branches">
                <div class="row">
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Branch Name</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.branchName"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="branchName"
                          placeholder="Branch Name"
                        />
                        <input
                          autofocus
                          [(ngModel)]="branch.aBranchName"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aBranchName"
                          placeholder="Branch Name (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">City</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.city"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="city"
                          placeholder="City"
                        />
                        <input
                          autofocus
                          [(ngModel)]="branch.aCity"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aCity"
                          placeholder="City (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Address</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.streetAddress"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="streetAddress"
                          placeholder="Address"
                        />
                        <input
                          autofocus
                          [(ngModel)]="branch.aStreetAddress"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aStreetAddress"
                          placeholder="Address (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">P.O Box</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.poBox"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="poBox"
                          placeholder="P.O Box"
                        />
                        <input
                          autofocus
                          [(ngModel)]="branch.apoBox"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="apoBox"
                          placeholder="P.O Box (AR)"
                        />
                    </div>
                    <!-- <div class="col-md-6">
                        <label class="col-form-label col-4">Telex</label>
                        <input
                          autofocus
                          type="text"
                          class="form-control"
                          name="Company"
                          placeholder="Telex"
                        />
                        <input
                          autofocus
                          type="text"
                          class="form-control mt-2"
                          name="Company"
                          placeholder="Telex (AR)"
                        />
                    </div> -->
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Email</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.email"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="email"
                          placeholder="Email"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Cell</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.cell"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="cell"
                          placeholder="Cell"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Fax</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.fax"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="fax"
                          placeholder="Fax"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Website</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.website"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="website"
                          placeholder="Website"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Pin Code</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.pinCode"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="pinCode"
                          placeholder="Website"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Tele Phone</label>
                        <input
                          autofocus
                          [(ngModel)]="branch.telephone"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="telephone"
                          placeholder="Tele Phone"
                        />
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-12">
                      <p-table
                        #dt
                        [value]="branches"
                        [tableStyle]="{ 'max-height': '20rem' }"
                        responsiveLayout="stack"
                        styleClass="p-datatable-gridlines"
                      >
                        <ng-template pTemplate="caption">
                          <div class="d-flex flex-column flex-md-row justify-content-between">
                            <div class="mr-auto p-2">
                              <span>
                                <h5>Branches</h5>
                              </span>
                            </div>
                          </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                          <tr>
                            <th>Branch Name</th>
                            <th>City</th>
                            <th>Telephone</th>
                            <th>Fax</th>
                            <th>IsActive</th>
                            <th>Gulf Base Update</th>
                            <th>Region</th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-i="rowIndex">
                          <tr (click)="handleBranch(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                            <td>{{item.branchName}}</td>
                            <td>{{item.city}}</td>
                            <td>{{item.telephone}}</td>
                            <td>{{item.fax}}</td>
                            <td>{{item.isActive}}</td>
                            <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{item.region}}</td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                  </div>
              </p-tabPanel>
              <p-tabPanel header="Overview">
                <div class="row">
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Inital Capitol</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.initialCapital"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="initialCapital"
                          placeholder="Inital Capitol"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Authorized Capitol</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.authorizedCapital"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="authorizedCapital"
                          placeholder="Authorized Capitol"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Subscribed Capitol</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.subscribedCapital"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="subscribedCapital"
                          placeholder="Subscribed Capitol"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">PaidUp Capitol</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.paidupCapital"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                                step="any"
                          class="form-control"
                          name="paidupCapital"
                          placeholder="PaidUp Capitol"
                        />
                    </div>                    
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Outstanding Shares</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.outstandingShares"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                                step="any"
                          class="form-control"
                          name="outstandingShares"
                          placeholder="Outstanding Shares"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Per value per share</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.parValuePerShare"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                                step="any"
                          class="form-control"
                          name="parValuePerShare"
                          placeholder="Per value per share"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Treasory Stock</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.treasuryStocks"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                                step="any"
                          class="form-control"
                          name="treasuryStocks"
                          placeholder="Treasory Stock"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Beta</label>
                        <input
                          autofocus
                          [(ngModel)]="companyFinancialOverview.beta"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                                step="any"
                          class="form-control"
                          name="beta"
                          placeholder="Beta"
                        />
                    </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-12">
                    <p-table
                      #dt
                      [value]="companyFinancialOverviews"
                      [tableStyle]="{ 'max-height': '20rem' }"
                      responsiveLayout="stack"
                      styleClass="p-datatable-gridlines"
                    >
                      <ng-template pTemplate="caption">
                        <div class="d-flex flex-column flex-md-row justify-content-between">
                          <div class="mr-auto p-2">
                            <span>
                              <h5>Financial Overview</h5>
                            </span>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr>
                          <th>Listed Date</th>
                          <th>PaidUp Capiton</th>
                          <th>Outstanding Shares</th>
                          <th>Per value per share</th>
                          <th>Is Active</th>
                          <th>Gulf Base Update</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item let-i="rowIndex">
                        <tr (click)="handlecompanyFinancialOverview(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                          <td>{{item.listedDate | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.paidupCapital}}</td>
                          <td>{{item.outstandingShares}}</td>
                          <td>{{item.parValuePerShare}}</td>
                          <td>{{item.isActive}}</td>
                          <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </p-tabPanel>
              <p-tabPanel header="Contacts">
                <div class="row">
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Contact Name</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.branchName"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="branchName"
                          placeholder="Branch Name"
                        />
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.aBranchName"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aBranchName"
                          placeholder="Branch Name (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">City</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.city"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="city"
                          placeholder="City"
                        />
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.aCity"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aCity"
                          placeholder="City (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Address</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.streetAddress"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="streetAddress"
                          placeholder="Address"
                        />
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.aStreetAddress"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="aStreetAddress"
                          placeholder="Address (AR)"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">P.O Box</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.poBox"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="poBox"
                          placeholder="P.O Box"
                        />
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.apoBox"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control mt-2"
                          name="apoBox"
                          placeholder="P.O Box (AR)"
                        />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Email</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.email"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="email"
                          placeholder="Email"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Cell</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.cell"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="cell"
                          placeholder="Cell"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Fax</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.fax"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="fax"
                          placeholder="Fax"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Website</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.website"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="website"
                          placeholder="Website"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Pin Code</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.pinCode"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="pinCode"
                          placeholder="Website"
                        />
                    </div>
                    <div class="col-md-6">
                        <label class="col-form-label col-4">Tele Phone</label>
                        <input
                          autofocus
                          [(ngModel)]="contactInfo.telephone"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="telephone"
                          placeholder="Tele Phone"
                        />
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-12">
                      <p-table
                        #dt
                        [value]="contactInformations"
                        [tableStyle]="{ 'max-height': '20rem' }"
                        responsiveLayout="stack"
                        styleClass="p-datatable-gridlines"
                      >
                        <ng-template pTemplate="caption">
                          <div class="d-flex flex-column flex-md-row justify-content-between">
                            <div class="mr-auto p-2">
                              <span>
                                <h5>Contacts</h5>
                              </span>
                            </div>
                          </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                          <tr>
                            <th>Contact Name</th>
                            <th>City</th>
                            <th>Telephone</th>
                            <th>Fax</th>
                            <th>IsActive</th>
                            <th>Gulf Base Update</th>
                            <th>Region</th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-i="rowIndex">
                          <tr (click)="handlecontactInfo(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                            <td>{{item.branchName}}</td>
                            <td>{{item.city}}</td>
                            <td>{{item.telephone}}</td>
                            <td>{{item.fax}}</td>
                            <td>{{item.isActive}}</td>
                            <td>{{item.gulfbaseUpdateDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{item.region}}</td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                  </div>
              </p-tabPanel>
              <p-tabPanel header="Projects">
                <div class="row">
                    <div class="col-md-6">
                      <label class="col-form-label">Project Name</label>
                      <input
                          autofocus
                          [(ngModel)]="companyProject.name"
                          [ngModelOptions]="{ standalone: true }"
                          type="text"
                          class="form-control"
                          name="name"
                          placeholder="Project Name"
                        />
                        <input
                        autofocus
                        [(ngModel)]="companyProject.aName"
                        [ngModelOptions]="{ standalone: true }"
                        type="text"
                        class="form-control"
                        name="aName"
                        placeholder="Project Name"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Status</label>
                      <p-dropdown
                        [options]="projectStatuses"
                        [(ngModel)]="companyProject.projectStatusID"
                        [ngModelOptions]="{ standalone: true }"
                        placeholder="Select a Status"
                        optionLabel="projectStatus"
                        optionValue="projectStatusID"
                        [style]="{ width: '100%' }"
                        [showClear]="true"
                      >
                      </p-dropdown>
                    </div>
                  </div>
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label">Start</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="companyProject.startDate" name="startDate"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Date" />
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">End</label>
                    <p-calendar [style]="{ width: '100%' }" dataType="string" [showIcon]="true" [(ngModel)]="companyProject.endDate" name="endDate"
                    [ngModelOptions]="{ standalone: true }" placeholder="Select a Date" />
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <label class="col-form-label">Description</label>
                    <textarea rows="3" [(ngModel)]="companyProject.description" name="description"
                    [ngModelOptions]="{ standalone: true }" class="form-control" placeholder="Describe here...">
                    </textarea>
                  </div>
                  <div class="col-md-6">
                    <label class="col-form-label">Description (AR)</label>
                    <textarea rows="3"  [(ngModel)]="companyProject.aDescription" name="aDescription"
                    [ngModelOptions]="{ standalone: true }" class="form-control" placeholder="Describe here...">
                    </textarea>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-12">
                    <p-table
                      #dt
                      [value]="companyProjects"
                      [tableStyle]="{ 'max-height': '20rem' }"
                      responsiveLayout="stack"
                      styleClass="p-datatable-gridlines"
                    >
                      <ng-template pTemplate="caption">
                        <div class="d-flex flex-column flex-md-row justify-content-between">
                          <div class="mr-auto p-2">
                            <span>
                              <h5>Company Projects</h5>
                            </span>
                          </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="header">
                        <tr>
                          <th>Project Name</th>
                          <th>Status</th>
                          <th>Start Date</th>
                          <th>End Date</th>
                          <th>Description</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item let-i="rowIndex">
                        <tr (click)="handlecompanyProject(item);clickedIndex == i? clickedIndex = null : clickedIndex = i" [ngClass]="{'row-active': clickedIndex == i}">
                          <td>{{item.name}}</td>
                          <td>{{item.status}}</td>
                          <td>{{item.startDate  | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.endDate  | date: 'dd/MM/yyyy'}}</td>
                          <td>{{item.Description}}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </p-tabPanel>
            </p-tabView>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
