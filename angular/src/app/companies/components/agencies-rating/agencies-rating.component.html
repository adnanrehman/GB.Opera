<div class="container ms-2" [abpLoading]="loading">
  <div class="card">
    <div class="card-body p-2">
      <div class="row mb-2">
        <div class="col-md-8"></div>
        <div class="col-md-2">
          <p-radioButton
            name="isCredit"
            value="true"
            [(ngModel)]="isCredit"
            [ngModelOptions]="{ standalone: true }"
            inputId="credit1"
          />
          <label for="credit1" class="ms-2 col-form-label"> Credit Rating </label>
        </div>
        <div class="col-md-2">
          <p-radioButton
            name="isCredit"
            value="false"
            [(ngModel)]="isCredit"
            [ngModelOptions]="{ standalone: true }"
            inputId="credit2"
          />
          <label for="credit2" class="ms-2 col-form-label"> Awards Certificate </label>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label class="col-form-label col-4">Agency Name</label>
          <input
            autofocus
            [(ngModel)]="agency.agency"
            [ngModelOptions]="{ standalone: true }"
            type="text"
            class="form-control col-8"
            name="Company"
            placeholder="Agency Name"
          />
          <input
            autofocus
            [(ngModel)]="agency.aAgency"
            [ngModelOptions]="{ standalone: true }"
            type="text"
            class="form-control col-8"
            name="aAgency"
            placeholder="Agency Name (AR)"
          />
        </div>
        <div class="col-md-6">
          <label class="col-form-label col-4">Website</label>
          <input
            autofocus
            [(ngModel)]="agency.website"
            [ngModelOptions]="{ standalone: true }"
            type="text"
            class="form-control col-8"
            name="website"
            placeholder="Website"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label class="col-form-label">Introduction</label>
          <textarea rows="3" class="form-control" [(ngModel)]="agency.introduction"
          [ngModelOptions]="{ standalone: true }" name="introduction" placeholder="Describe Overview here...">
          </textarea>
        </div>
        <div class="col-md-6">
          <label class="col-form-label">Introduction (AR)</label>
          <textarea rows="3" class="form-control"[(ngModel)]="agency.aIntroduction"
          [ngModelOptions]="{ standalone: true }" name="aIntroduction" placeholder="Describe Overview here...">
          </textarea>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-12 text-end">
            <button type="button"  *ngIf="permission.create"    (click)="createOrUpdateAgency()"  class="btn btn-sm btn-primary">Save</button>
        </div>  
      </div>
      <div class="row">
        <div class="col-md-12">
          <h6>Agencies:</h6>
          <div class="card">
            <div class="card-body p-0" style="height: 150px;background-color: darkgrey;">
              <p-table
                #dt
                [value]="agencies"
                    [scrollable]="true" 
                    scrollHeight="10rem"
                    responsiveLayout="stack"
                responsiveLayout="stack"
                styleClass="p-datatable-strip"
              >
                <ng-template pTemplate="header">
                  <tr>
                    <th>Agency Name</th>
                    <th>Website</th>
                    <th>Introduction</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                  <tr>
                    <td>{{item.agency}}</td>
                    <td>{{item.website}}</td>
                    <td>{{item.introduction}}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
            <label class="col-form-label col-4">Rating Name</label>
            <input
              autofocus
              [(ngModel)]="rating.rating"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              class="form-control col-8"
              name="rating"
              placeholder="Rating Name"
            />
            <input
              autofocus
              [(ngModel)]="rating.aRating"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              class="form-control col-8"
              name="aRating"
              placeholder="Rating Name (AR)"
            />
          </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label class="col-form-label">Rating Brief</label>
          <textarea rows="3" class="form-control" [(ngModel)]="rating.brief" name="brief"
          [ngModelOptions]="{ standalone: true }" placeholder="Describe Overview here...">
          </textarea>
        </div>
        <div class="col-md-6">
          <label class="col-form-label">Rating Brief (AR)</label>
          <textarea rows="3" class="form-control" [(ngModel)]="rating.aBrief" name="aBrief"
          [ngModelOptions]="{ standalone: true }" placeholder="Describe Overview here...">
          </textarea>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-12 text-end">
            <button type="button" *ngIf="permission.create"  (click)="createOrUpdateRating()" class="btn btn-sm btn-primary">Save Rating</button>
        </div>  
      </div>
      <div class="row">
        <div class="col-md-12">
          <h6>Ratings:</h6>
          <div class="card">
            <div class="card-body p-0" style="height: 150px;background-color: darkgrey;">
              <p-table
                #dt
                [value]="ratings"
                    [scrollable]="true" 
                    scrollHeight="10rem"
                    responsiveLayout="stack"
                styleClass="p-datatable-strip"
              >
                <ng-template pTemplate="header">
                  <tr>
                    <th>Rating Name</th>
                    <th>Rating Brief</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                  <tr>
                    <td>{{item.rating}}</td>
                    <td>{{item.brief}}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
